<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Foodie Login</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
<div id="app">
  <form id="login-form" class="login-container" autocomplete="off">
    <h2>Login</h2>
    <div id="login-error" class="login-error"></div>
    <label>Email or Username</label>
    <input type="text" name="login" required placeholder="Enter Email or Username" autofocus autocomplete="username">
    <label>Password</label>
    <input type="password" name="password" required placeholder="Password" autocomplete="current-password">
    <button type="submit">Login</button>
    <div style="font-size:0.98em;color:#666;margin-top:22px;">
      <strong>Demo Users:</strong><br>
      <b>amit</b> / amit@example.com – demo123 <br>
      <b>priya</b> / priya@example.com – demo456
    </div>
  </form>
</div>
<script src="global.js"></script>
<script>
if(getLoggedInUser()) location.href='dashboard.html';
document.getElementById("login-form").onsubmit = function(e) {
  e.preventDefault();
  const login = this.login.value.trim(), pass = this.password.value.trim();
  let user = USERS.find(u=>(u.username===login || u.email===login) && u.password===pass);
  if(!user) {
    document.getElementById("login-error").textContent="Invalid username/email or password!";
    return;
  }
  setLoggedInUser(user);
  location.href = "dashboard.html";
};
</script>
</body>
</html>
